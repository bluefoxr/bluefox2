---
title: "Twelve (interesting?) things you can do in COINr"
author: Will Becker
bg_image: images/featue-bg.jpg
categories:
- Indicators
date: "2021-06-22"
description: Updates from my R package
draft: false
image: images/blog/Rlogo.png
tags:
- Indicators
- R
type: post
---

<script src="/rmarkdown-libs/core-js/shim.min.js"></script>
<script src="/rmarkdown-libs/react/react.min.js"></script>
<script src="/rmarkdown-libs/react/react-dom.min.js"></script>
<script src="/rmarkdown-libs/reactwidget/react-tools.js"></script>
<script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/reactable-binding/reactable.js"></script>
<script src="/rmarkdown-libs/plotly-binding/plotly.js"></script>
<script src="/rmarkdown-libs/typedarray/typedarray.min.js"></script>
<script src="/rmarkdown-libs/jquery/jquery.min.js"></script>
<link href="/rmarkdown-libs/crosstalk/css/crosstalk.css" rel="stylesheet" />
<script src="/rmarkdown-libs/crosstalk/js/crosstalk.min.js"></script>
<link href="/rmarkdown-libs/plotly-htmlwidgets-css/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="/rmarkdown-libs/plotly-main/plotly-latest.min.js"></script>


<p>COINr is an open-source R package for building and analysing composite indicators, developed by the European Commission’s <a href="https://knowledge4policy.ec.europa.eu/composite-indicators/about_en">Joint Research Centre</a>. The COINr package has many functionalities, and the full documentation can be found <a href="https://bluefoxr.github.io/COINrDoc/">here</a>. Here, a few highlights are given.</p>
<p>All of the highlights will be demonstrated on COINr’s inbuilt “ASEM data set”, which is a composite indicator created to measure international <em>sustainable connectivity</em>, and is based on the indexes found at the <a href="https://composite-indicators.jrc.ec.europa.eu/asem-sustainable-connectivity/">ASEM Sustainable Connectivity Portal</a>.</p>
<p>We will begin by building this in COINr:</p>
<pre class="r"><code>library(COINr)
## 
## Attaching package: &#39;COINr&#39;
## The following object is masked from &#39;package:stats&#39;:
## 
##     aggregate
library(magrittr)
ASEM &lt;- build_ASEM()
## -----------------
## Denominators detected - stored in .$Input$Denominators
## -----------------
## -----------------
## Indicator codes cross-checked and OK.
## -----------------
## Number of indicators = 49
## Number of units = 51
## Number of reference years of data = 1
## Years from 2018 to 2018
## Number of aggregation levels = 3 above indicator level.
## -----------------
## Aggregation level 1 with 8 aggregate groups: Physical, ConEcFin, Political, Instit, P2P, Environ, Social, SusEcFin
## Cross-check between metadata and framework = OK.
## Aggregation level 2 with 2 aggregate groups: Conn, Sust
## Cross-check between metadata and framework = OK.
## Aggregation level 3 with 1 aggregate groups: Index
## Cross-check between metadata and framework = OK.
## -----------------
## Missing data points detected = 65
## Missing data points imputed = 65, using method = indgroup_mean</code></pre>
<p><br/><font size="4"> <strong>Build with no limits</strong> </font></p>
<p>COINr has a rich set of tools for constructing composite indicators from raw indicator data. Unlike other composite indicator tools, COINr has very few limits. Construction features include:</p>
<ul>
<li>No limits on the number of indicators, units (i.e. countries/regions), or number of aggregation levels. Your composite indicator can be the size and shape you want it to be.</li>
<li>Denomination by other indicators (including built in world denominators data set)</li>
<li>Screening units by data requirements</li>
<li>Imputation of missing data, by either:
<ul>
<li>Global mean or median of indicator values</li>
<li>Group mean or median of indicator values</li>
<li>Mean or median within an aggregation group</li>
<li>Expectation maximisation algorithm</li>
</ul></li>
<li>Normalisation by any of the following methods, either for all indicators or for each individually:
<ul>
<li>Min max</li>
<li>Z-score</li>
<li>Linear scale</li>
<li>Rank</li>
<li>Borda</li>
<li>Percentile rank</li>
<li>Fraction of maximum indicator value</li>
<li>Distance to a reference unit</li>
<li>Distance to maximum indicator value</li>
<li>Distance to indicator target</li>
<li>Custom normalisation function</li>
</ul></li>
<li>Weighting using either:
<ul>
<li>Equal weighting</li>
<li>Manual weighting (including an interactive reweighting app)</li>
<li>PCA weights</li>
<li>Correlation-optimised weights</li>
</ul></li>
<li>Aggregation of indicators using any of the following for each aggregation level:
<ul>
<li>Arithmetic weighted mean</li>
<li>Geometric weighted mean</li>
<li>Harmonic weighted mean</li>
<li>Median</li>
<li>Copeland method</li>
<li>A custom aggregation function</li>
</ul></li>
</ul>
<p>All of these features are easily accessible via a harmonised “COINrverse” system, which is up next.</p>
<p><br/><font size="4"> <strong>Live in the COINrverse (or not)</strong> </font></p>
<p>Many COINr functions can be used two ways: either as standalone functions which operate on a data frame (e.g. normalising a data frame of indicator data), or on a so-called <strong>COIN</strong>.</p>
<p>COINs are hierarchical lists, a bit like a folder system. In R they are sometimes called “lists of lists” or “nested lists”. A COIN contains all the data, parameters, methodological choices and results of a composite indicator. It has a structure something like this:</p>
<div class="figure">
<img src="/english/blog/2021-06-22-TenThingsYouCanDoInCOINr_files/COIN_contents_tree.png" alt="" />
<p class="caption">Inside a COIN</p>
</div>
<p>In short, a COIN contains everything relating to your composite indicator in a single “object”. There are at least three good reasons for this:</p>
<ol style="list-style-type: decimal">
<li>A streamlined syntax because functions know where data and parameters are. Therefore, COINr operations typically follow a syntax of the form <code>COINobj &lt;- COINr_function(COINobj, &lt;methodological settings&gt;)</code>, updating the COIN object with new results and data sets generated by the function.</li>
<li>It keeps things organised and avoids a workspace of dozens of variables.</li>
<li>It keeps a record of methodological decisions - this allows results to be easily regenerated following “what if” experiments, such as removing or changing indicators and comparing alternative versions of the same index.</li>
</ol>
<p><br/><font size="4"> <strong>All the stats you could want</strong> </font></p>
<p>Hello stats:</p>
<pre class="r"><code>getStats(ASEM, dset = &quot;Aggregated&quot;, out2 = &quot;list&quot;)$StatTable %&gt;% reactable::reactable()
## Number of collinear indicators =  5
## Number of signficant negative indicator correlations =  396
## Number of indicators with high denominator correlations =  0</code></pre>
<div id="htmlwidget-1" class="reactable html-widget" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"Indicator":["Goods","Services","FDI","PRemit","ForPort","CostImpEx","Tariff","TBTs","TIRcon","RTAs","Visa","StMob","Research","Pat","CultServ","CultGood","Tourist","MigStock","Lang","LPI","Flights","Ship","Bord","Elec","Gas","ConSpeed","Cov4G","Embs","IGOs","UNVote","Renew","PrimEner","CO2","MatCon","Forest","Poverty","Palma","TertGrad","FreePress","TolMin","NGOs","CPI","FemLab","WomParl","PubDebt","PrivDebt","GDPGrow","RDExp","NEET","ConEcFin","Instit","P2P","Physical","Political","Environ","Social","SusEcFin","Conn","Sust","Index"],"Min":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1.74393775184397,26.4676317428742,2.99914949188243,13.2838314939559,11.7858749437697,30.7492939067537,22.7410689869905,27.5540683707026,20.1721562293937,40.3813305344905,35.65554450981],"Max":[100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,80.2322194974662,89.4556498884348,67.5172960266447,77.4746887246093,94.789177346152,87.7963466961889,87.8476968204829,70.711549519231,66.5553995441179,73.979486756827,68.3837242383874],"Mean":[36.1564471609506,30.5826150352046,22.0010039339354,25.1728099893703,27.8968278162171,80.3793046630417,68.6202171840959,55.3289598783039,74.5098039215686,50.9368191721133,74.9191984486102,31.1262996801472,41.0029102457949,22.3017025605467,23.5357820294018,30.692759673772,21.2948125656256,26.2810907777241,43.2961153900464,62.2879020608894,21.7920741662475,56.6061865627936,22.4756262560243,17.3708201481845,20.9115314849339,37.10407239819,75.643137254902,59.5315904139434,47.0508851313805,69.3483376272194,34.8835358168566,61.9116652798418,70.6380207366549,62.4660141279735,69.1698355711517,74.59664214668,72.5351763773286,54.1714676393605,61.4792752544056,50.6777405656975,27.9270132536787,53.4890426758939,69.0411942303302,50.5124048756335,66.3741874168837,70.1197375544082,47.1746384589446,33.571845342457,70.7202805028162,28.3619407871356,67.4490505446223,29.9414341153823,39.2739187915207,58.6436043908478,59.8138143064957,57.1588841132232,57.592137855102,44.7339897259017,58.1882787582736,51.4611342420877],"Median":[27.8860822178772,24.2365836450423,11.6057087522354,18.6630322707103,14.0176975428882,92.436974789916,79.1666666666667,35.0256702795208,100,64.4444444444444,85.7142857142857,25.2767115721402,39.6754386537164,11.4619847547832,13.789046749161,21.1429434333637,14.3296113552727,19.9626738883937,42.3200623439704,62.6664591356053,14.1080294628903,59.936954113603,8.01823400194578,8.14812796567294,6.83515477856514,32.1012321012321,91,65.2777777777778,46.5587044534413,91.101589230076,26.4295468583413,68.3489506207896,74.1678547426981,65.2594857529627,72.5121484037543,93.9759036144578,78.1609195402299,52.4329394763375,74.6835443037975,54.0229885057471,16.6887178599078,52.9411764705882,75.9020336897776,48.7009848894035,71.3007523114914,73.3867658645841,50.9182238660539,27.3910944853385,74.9397590361446,24.9013012899454,74.5812165583734,32.0486728437789,40.9543958589775,55.970500839514,62.6857788174728,57.3040595885654,57.7811973089615,48.1105857417282,57.6668130521699,54.0271349692549],"Q.25":[16.0084541990003,14.2840678936043,6.5089478700824,9.1291715220224,7.69949591695675,73.8655462184874,64.1927083333333,32.5727324586423,50,35.5555555555556,65.9340659340659,8.30625681996342,23.5774039101193,7.30842301932579,7.92641249810947,14.6936900479265,7.39319979639184,11.0473177641105,22.2004099819089,42.6909227859377,4.07191382335648,42.9564803353429,1.44497502527505,0.502426146369633,2.31422989766693,26.4069264069264,65.25,33.3333333333333,32.9959514170041,37.6541997934785,14.0443363766052,47.3246150415884,61.1597993506866,54.7433738262648,63.2131802773567,47.5903614457831,60.1652298850575,42.595888338606,39.873417721519,34.4827586206897,2.68141735962442,28.6764705882353,63.5690640604525,34.2085608623403,55.1455808878424,57.7554553531241,26.376547254485,17.5491734041269,63.4939759036145,17.7650733788731,58.3436745296311,11.890229543287,28.6933321255222,45.6852302005087,51.6552735753231,39.1945523452436,53.2028015007532,31.6981504929242,53.0734894995953,41.447748608266],"Q.75":[58.045373423741,34.6946964144869,16.0193274324427,36.1023537597535,39.7528949586468,100,79.1666666666667,93.3542498573873,100,64.4444444444444,87.9120879120879,40.9595881464589,58.9589847706285,29.9227916159262,30.8564560619501,48.480567210733,26.6738472966238,35.7540559021264,65.8124629832149,80.5149179163696,28.9210670011362,79.3721675795771,29.9552309895867,26.5932826626903,24.6865482401937,47.4025974025974,98.35,79.1666666666667,61.5384615384615,94.1394985674997,52.0232667373453,81.928522078357,81.714039464428,76.4728559843691,86.1086941044968,100,86.2068965517241,71.0940860207502,84.1772151898734,71.264367816092,37.9753817520281,79.4117647058823,80.4990011132972,66.9819122515487,81.591339803595,85.128989779632,67.5072248972486,49.4002654760468,83.3734939759036,38.0067196658774,76.7862799870535,40.0117541933192,48.3282985656797,76.4730959514817,69.0395672390875,71.8875365447138,63.3855376481172,53.1559847073444,62.9028763797013,58.5770337023866],"IQ.range":[42.0369192247408,20.4106285208826,9.51037956236027,26.9731822377311,32.0533990416901,26.1344537815126,14.9739583333333,60.781517398745,50,28.8888888888889,21.978021978022,32.6533313264955,35.3815808605092,22.6143685966004,22.9300435638406,33.7868771628064,19.2806475002319,24.7067381380159,43.612053001306,37.8239951304319,24.8491531777797,36.4156872442341,28.5102559643117,26.0908565163207,22.3723183425268,20.995670995671,33.1,45.8333333333333,28.5425101214575,56.4852987740212,37.97893036074,34.6039070367687,20.5542401137414,21.7294821581043,22.8955138271401,52.4096385542169,26.0416666666667,28.4981976821442,44.3037974683544,36.7816091954023,35.2939643924037,50.7352941176471,16.9299370528447,32.7733513892083,26.4457589157526,27.3735344265079,41.1306776427637,31.8510920719199,19.8795180722891,20.2416462870043,18.4426054574224,28.1215246500322,19.6349664401576,30.7878657509731,17.3842936637644,32.6929841994702,10.1827361473639,21.4578342144201,9.82938688010606,17.1292850941206],"Std.dev":[27.5377041891394,26.8878903196396,28.1849941457991,19.6712216187424,29.1701258042342,25.1660193619571,24.66406914372,31.3892625507534,44.0142579394539,20.8550228417368,24.358655200881,27.8873957645644,24.8156457023283,23.6184206891639,26.5126945777303,24.0147474133171,21.5998906249988,22.2509107392813,29.5795127644464,24.9443155325227,23.6463284462084,32.2849586299536,31.2765269195509,23.0377067525863,28.7901310703098,20.3772790005661,32.1456840953927,27.858244019759,23.7349625748358,32.0528770981377,26.4974506721735,25.3056253947912,20.839854991392,22.9298781769915,24.7455505392473,35.9472991481121,20.7371615447611,22.6892819742,30.9112316129728,24.7547297385745,31.6939645358598,29.1131321281458,19.8605577031623,25.1302094153828,21.8071749212631,20.9642716462036,24.7326681795679,23.6567356016949,18.3733430974625,16.8607834660331,13.7519878014004,17.5834349737507,14.9608514215671,21.3756324681562,14.0846590548561,19.693881335376,8.63134568357872,12.5131163658575,7.84389418724107,9.16750963972887],"Skew":[0.754846238592609,1.62477522976541,1.91573893376567,1.35350719947456,1.35945242891195,-1.58974836231753,-1.8553424845918,0.34732813224503,-1.15917910585813,-0.678014308269118,-1.76181098200601,1.07772843491746,0.309395492970291,1.58019063441166,1.92710967870858,1.09022339356527,1.63678025524199,1.32092584515042,0.0933840143573727,-0.304268128297048,1.75381162545083,-0.575668041929831,1.65955413648669,1.82453793267796,1.78556697934962,0.630525568676118,-1.37251912510789,-0.367952855467897,-0.0634717804573101,-0.675399422731597,0.822493598146914,-0.724485090242012,-1.10715761602933,-0.75928568176863,-1.42396956711046,-1.15928251545497,-1.14009535123754,-0.161142147182782,-0.753917389948978,-0.063332803409762,1.15479572635304,0.0202750630403471,-1.89240411230913,0.0858880311895868,-1.25949880500889,-0.986463010081451,-0.0516054308910299,0.702613785144059,-1.54572267140648,0.958413150403016,-1.0987094247196,0.122178934412828,0.317916658613897,-0.442057919471723,-0.368173630390984,-0.163205833218647,-1.0723419542727,-0.359855075050452,-0.124311226056007,-0.135390937698723],"Kurtosis":[-0.571116219900927,2.11554345620282,2.40624829496847,3.03506532024868,0.901107736354272,2.35844543710223,2.85048365682945,-1.58636234998239,-0.684747583243824,0.133048185203678,2.16514756216367,0.661950377141898,-0.378359213692291,2.09267478144246,3.3044397113432,0.792564064830757,2.81442646068863,1.75012328804474,-1.07685476154497,-0.656751412485129,3.24692199175287,-0.681479454104935,1.53920767598352,3.27184703943508,2.34078967390045,0.805330454858184,0.541931446910913,-0.993112250617891,-0.248981004779727,-1.20433214215785,-0.066097797313857,-0.144763692119524,1.83219799402872,0.424487166791781,1.79880274471663,-0.435689383380995,2.05166703835952,-0.218772457087675,-0.780349481437203,-0.660276237839447,0.132196974172723,-1.24970883905041,4.36336653191633,-0.789179358193492,1.79161443236346,1.51472960535077,-0.93031220759653,-0.0112370168819824,3.59655399127809,1.1702422966598,0.534078391879425,-0.8587674866394,-0.214322543012818,-0.629661858901763,-0.402043247294958,-0.96188530074881,2.04387002478785,-0.94259893694061,-0.0984134273751369,-1.26146998936228],"N.missing":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"Prc.complete":[100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100],"Low.data.flag":["OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK"],"Prc.Unique":[1,0.92156862745098,0.96078431372549,1,0.901960784313726,0.549019607843137,0.352941176470588,0.843137254901961,0.0392156862745098,0.274509803921569,0.431372549019608,0.96078431372549,1,0.901960784313726,0.901960784313726,0.882352941176471,1,1,1,1,0.980392156862745,0.843137254901961,0.843137254901961,0.941176470588235,0.941176470588235,0.803921568627451,0.725490196078431,0.647058823529412,0.901960784313726,0.96078431372549,1,1,1,1,0.96078431372549,0.313725490196078,0.725490196078431,0.882352941176471,0.745098039215686,0.784313725490196,0.941176470588235,0.764705882352941,0.96078431372549,0.96078431372549,0.980392156862745,1,0.980392156862745,0.941176470588235,0.803921568627451,1,1,1,1,1,1,1,1,1,1,1],"Frac.Zero":[0.0196078431372549,0.0196078431372549,0.0196078431372549,0.0196078431372549,0.0196078431372549,0.0392156862745098,0.0784313725490196,0.0196078431372549,0.254901960784314,0.0196078431372549,0.0196078431372549,0.0196078431372549,0.0196078431372549,0.0196078431372549,0.0196078431372549,0.0196078431372549,0.0196078431372549,0.0196078431372549,0.0196078431372549,0.0196078431372549,0.0196078431372549,0.176470588235294,0.117647058823529,0.0784313725490196,0.0196078431372549,0.0196078431372549,0.0392156862745098,0.0196078431372549,0.0196078431372549,0.0196078431372549,0.0196078431372549,0.0196078431372549,0.0196078431372549,0.0196078431372549,0.0588235294117647,0.0784313725490196,0.0196078431372549,0.0196078431372549,0.0196078431372549,0.0196078431372549,0.0196078431372549,0.0196078431372549,0.0392156862745098,0.0196078431372549,0.0392156862745098,0.0196078431372549,0.0196078431372549,0.0196078431372549,0.0196078431372549,0,0,0,0,0,0,0,0,0,0,0],"SK.outlier.flag":["OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK"],"Low.Outliers.IQR":[0,0,0,0,0,2,5,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,2,4,5,0,1,0,0,0,0,0,3,0,2,1,0,0,2,0,1,0,0,0,0,0,2,0,0,0],"High.Outliers.IQR":[0,5,9,1,4,0,0,0,0,0,0,4,0,5,4,1,4,2,0,0,3,0,7,3,6,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,1,0,2,0,0,0,0,0,0,0,0,0,0],"Collinearity":["OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","Collinear","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","Collinear","OK","Collinear","OK","Collinear","OK","Collinear"],"Neg.Correls":[1,5,15,6,4,3,5,36,2,3,5,9,4,3,3,0,4,8,5,6,6,7,1,3,0,0,8,11,6,4,10,2,19,18,2,6,2,5,4,5,3,6,4,4,8,37,28,6,7,3,4,5,5,6,5,5,4,6,1,3],"Denom.correlation":["OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK"]},"columns":[{"accessor":"Indicator","name":"Indicator","type":"character"},{"accessor":"Min","name":"Min","type":"numeric"},{"accessor":"Max","name":"Max","type":"numeric"},{"accessor":"Mean","name":"Mean","type":"numeric"},{"accessor":"Median","name":"Median","type":"numeric"},{"accessor":"Q.25","name":"Q.25","type":"numeric"},{"accessor":"Q.75","name":"Q.75","type":"numeric"},{"accessor":"IQ.range","name":"IQ.range","type":"numeric"},{"accessor":"Std.dev","name":"Std.dev","type":"numeric"},{"accessor":"Skew","name":"Skew","type":"numeric"},{"accessor":"Kurtosis","name":"Kurtosis","type":"numeric"},{"accessor":"N.missing","name":"N.missing","type":"numeric"},{"accessor":"Prc.complete","name":"Prc.complete","type":"numeric"},{"accessor":"Low.data.flag","name":"Low.data.flag","type":"character"},{"accessor":"Prc.Unique","name":"Prc.Unique","type":"numeric"},{"accessor":"Frac.Zero","name":"Frac.Zero","type":"numeric"},{"accessor":"SK.outlier.flag","name":"SK.outlier.flag","type":"character"},{"accessor":"Low.Outliers.IQR","name":"Low.Outliers.IQR","type":"numeric"},{"accessor":"High.Outliers.IQR","name":"High.Outliers.IQR","type":"numeric"},{"accessor":"Collinearity","name":"Collinearity","type":"character"},{"accessor":"Neg.Correls","name":"Neg.Correls","type":"numeric"},{"accessor":"Denom.correlation","name":"Denom.correlation","type":"character"}],"defaultPageSize":10,"paginationType":"numbers","showPageInfo":true,"minRows":1,"dataKey":"942a4d1d2303476c409d27a096e5b186","key":"942a4d1d2303476c409d27a096e5b186"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
<p><br/><font size="4"> <strong>Easy plots</strong> </font></p>
<p>COINr provides many different types of plots, all accessible with simple functions. They follow a “plot first, adjust later” logic: because they are powered by the <strong>plotly</strong> and <strong>ggplot2</strong> packages, they can be fine tuned using functions from these packages.</p>
<p>COINr plots include framework plots:</p>
<pre class="r"><code>plotframework(ASEM)</code></pre>
<div id="htmlwidget-2" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-2">{"x":{"visdat":{"2f9c7b433ac":["function () ","plotlyVisDat"]},"cur_data":"2f9c7b433ac","attrs":{"2f9c7b433ac":{"labels":["Goods","Services","FDI","PRemit","ForPort","CostImpEx","Tariff","TBTs","TIRcon","RTAs","Visa","StMob","Research","Pat","CultServ","CultGood","Tourist","MigStock","Lang","LPI","Flights","Ship","Bord","Elec","Gas","ConSpeed","Cov4G","Embs","IGOs","UNVote","Renew","PrimEner","CO2","MatCon","Forest","Poverty","Palma","TertGrad","FreePress","TolMin","NGOs","CPI","FemLab","WomParl","PubDebt","PrivDebt","GDPGrow","RDExp","NEET","ConEcFin","Instit","P2P","Physical","Political","Environ","Social","SusEcFin","Conn","Sust","Index"],"parents":["ConEcFin","ConEcFin","ConEcFin","ConEcFin","ConEcFin","Instit","Instit","Instit","Instit","Instit","Instit","P2P","P2P","P2P","P2P","P2P","P2P","P2P","P2P","Physical","Physical","Physical","Physical","Physical","Physical","Physical","Physical","Political","Political","Political","Environ","Environ","Environ","Environ","Environ","Social","Social","Social","Social","Social","Social","Social","Social","Social","SusEcFin","SusEcFin","SusEcFin","SusEcFin","SusEcFin","Conn","Conn","Conn","Conn","Conn","Sust","Sust","Sust","Index","Index",""],"values":[0.02,0.02,0.02,0.02,0.02,0.0166666666666667,0.0166666666666667,0.0166666666666667,0.0166666666666667,0.0166666666666667,0.0166666666666667,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.1,0.1,0.1,0.1,0.1,0.166666666666667,0.166666666666667,0.166666666666667,0.5,0.5,1],"branchvalues":"total","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"sunburst"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"hovermode":"closest","showlegend":false},"source":"A","config":{"showSendToCloud":false},"data":[{"labels":["Goods","Services","FDI","PRemit","ForPort","CostImpEx","Tariff","TBTs","TIRcon","RTAs","Visa","StMob","Research","Pat","CultServ","CultGood","Tourist","MigStock","Lang","LPI","Flights","Ship","Bord","Elec","Gas","ConSpeed","Cov4G","Embs","IGOs","UNVote","Renew","PrimEner","CO2","MatCon","Forest","Poverty","Palma","TertGrad","FreePress","TolMin","NGOs","CPI","FemLab","WomParl","PubDebt","PrivDebt","GDPGrow","RDExp","NEET","ConEcFin","Instit","P2P","Physical","Political","Environ","Social","SusEcFin","Conn","Sust","Index"],"parents":["ConEcFin","ConEcFin","ConEcFin","ConEcFin","ConEcFin","Instit","Instit","Instit","Instit","Instit","Instit","P2P","P2P","P2P","P2P","P2P","P2P","P2P","P2P","Physical","Physical","Physical","Physical","Physical","Physical","Physical","Physical","Political","Political","Political","Environ","Environ","Environ","Environ","Environ","Social","Social","Social","Social","Social","Social","Social","Social","Social","SusEcFin","SusEcFin","SusEcFin","SusEcFin","SusEcFin","Conn","Conn","Conn","Conn","Conn","Sust","Sust","Sust","Index","Index",""],"values":[0.02,0.02,0.02,0.02,0.02,0.0166666666666667,0.0166666666666667,0.0166666666666667,0.0166666666666667,0.0166666666666667,0.0166666666666667,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.1,0.1,0.1,0.1,0.1,0.166666666666667,0.166666666666667,0.166666666666667,0.5,0.5,1],"branchvalues":"total","type":"sunburst","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(255,255,255,1)"}},"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>Indicator distribution plots:</p>
<pre class="r"><code>plotIndDist(ASEM, type = &quot;Violindot&quot;, icodes = &quot;Physical&quot;)</code></pre>
<p><img src="/english/blog/2021-06-22-TenThingsYouCanDoInCOINr_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<pre class="r"><code>plotIndDist(ASEM, type = &quot;Box&quot;, icodes = &quot;Political&quot;)</code></pre>
<p><img src="/english/blog/2021-06-22-TenThingsYouCanDoInCOINr_files/figure-html/unnamed-chunk-4-2.png" width="672" /></p>
<pre class="r"><code>iplotIndDist(ASEM, dset = &quot;Raw&quot;, icodes = &quot;Renew&quot;, ptype = &quot;Violin&quot;)</code></pre>
<div id="htmlwidget-3" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-3">{"x":{"visdat":{"2f9c69ce5ff7":["function () ","plotlyVisDat"]},"cur_data":"2f9c69ce5ff7","attrs":{"2f9c69ce5ff7":{"y":{},"box":{"visible":true},"meanline":{"visible":true},"x0":"Renewable energy in total final energy consumption","points":"all","pointpos":-1.5,"jitter":0.1,"hoveron":"points+kde","marker":{"line":{"width":2,"color":"#8dd3c7"},"symbol":"line-ew"},"color":["#8dd3c7"],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"violin"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"yaxis":{"domain":[0,1],"automargin":true,"title":"Percent","zeroline":false,"range":[]},"xaxis":{"domain":[0,1],"automargin":true},"hovermode":"closest","showlegend":false},"source":"A","config":{"showSendToCloud":false},"data":[{"fillcolor":"rgba(141,211,199,0.5)","y":[34.39499175,9.201640531,17.65007793,33.12746664,9.942066016,14.82856195,33.17027717,27.47683347,43.23526259,13.49926232,14.2062527,17.17004755,15.55936205,9.081399013,16.51685058,38.09801717,28.96117925,9.031313661,5.355004746,5.889463079,57.7720016,11.91148821,27.15729839,23.69779403,13.40916822,20.87739614,16.25409774,53.2477698,25.29198368,8.711685574,9.18050296,34.74706901,0.014935036,64.92377591,12.41335257,36.02122257,36.8793481,6.297357081,1.558442912,2.707702804,59.31586075,5.194442589,3.42973729,61.52781165,30.78917555,46.47632492,27.45154445,3.304228351,0.708635297,22.86307013,34.99856984],"box":{"visible":true},"meanline":{"visible":true},"x0":"Renewable energy in total final energy consumption","points":"all","pointpos":-1.5,"jitter":0.1,"hoveron":"points+kde","marker":{"color":"rgba(141,211,199,1)","line":{"color":"#8dd3c7","width":2},"symbol":"line-ew"},"type":"violin","line":{"color":"rgba(141,211,199,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>Barcharts:</p>
<pre class="r"><code>iplotBar(ASEM, dset = &quot;Raw&quot;, isel = &quot;Embs&quot;, usel = &quot;SGP&quot;)</code></pre>
<div id="htmlwidget-4" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-4">{"x":{"visdat":{"2f9c7cdf67a6":["function () ","plotlyVisDat"]},"cur_data":"2f9c7cdf67a6","attrs":{"2f9c7cdf67a6":{"x":{},"y":{},"key":{},"marker":{"color":["#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#ffa600","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d"]},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":{"text":"Embassies network","y":0.95},"yaxis":{"domain":[0,1],"automargin":true,"title":""},"xaxis":{"domain":[0,1],"automargin":true,"title":"","categoryorder":"array","categoryarray":[100,100,100,100,99,95,95,93,89,89,88,87,86,84,84,83,83,82,82,80,79,78,78,78,77,75,74,74,74,72,72,67,66,62,62,62,58,52,52,50,48,46,44,43,43,42,41,41,40,37,28],"type":"category"},"hovermode":"closest","showlegend":false},"source":"barclick","config":{"showSendToCloud":false},"data":[{"x":["FRA","DEU","GBR","CHN","RUS","IND","JPN","ITA","NLD","ESP","AUT","POL","KOR","BEL","CZE","GRC","IDN","CHE","AUS","VNM","HUN","NOR","SWE","THA","DNK","ROU","FIN","IRL","MYS","PRT","PAK","BGR","PHL","HRV","SVK","KAZ","SGP","BGD","MMR","LTU","LVA","EST","NZL","CYP","SVN","KHM","BRN","LAO","MNG","LUX","MLT"],"y":[100,100,100,100,99,95,95,93,89,89,88,87,86,84,84,83,83,82,82,80,79,78,78,78,77,75,74,74,74,72,72,67,66,62,62,62,58,52,52,50,48,46,44,43,43,42,41,41,40,37,28],"key":["FRA","DEU","GBR","CHN","RUS","IND","JPN","ITA","NLD","ESP","AUT","POL","KOR","BEL","CZE","GRC","IDN","CHE","AUS","VNM","HUN","NOR","SWE","THA","DNK","ROU","FIN","IRL","MYS","PRT","PAK","BGR","PHL","HRV","SVK","KAZ","SGP","BGD","MMR","LTU","LVA","EST","NZL","CYP","SVN","KHM","BRN","LAO","MNG","LUX","MLT"],"marker":{"color":["#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#ffa600","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d"],"line":{"color":"rgba(31,119,180,1)"}},"type":"bar","error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","_isNestedKey":false,"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<pre class="r"><code>iplotBar(ASEM, dset = &quot;Aggregated&quot;, isel = &quot;Conn&quot;, aglev = 3, stack_children = TRUE)</code></pre>
<div id="htmlwidget-5" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-5">{"x":{"visdat":{"2f9c4e91df8":["function () ","plotlyVisDat"]},"cur_data":"2f9c4e91df8","attrs":{"2f9c4e91df8":{"x":{},"y":{},"key":{},"name":"ConEcFin","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"},"2f9c4e91df8.1":{"x":{},"y":[77.5749947006365,75.5974324264399,85.9429565459564,71.737382987383,70.6440499759516,76.8747145885916,89.4556498884348,75.3527446175763,77.5369646569019,73.3447914955666,76.4621181137825,74.5080142553801,77.268246875349,76.6110117578609,76.3460183147861,77.0780966566762,75.0842972500383,74.3874710624568,74.5812165583734,77.0736040965647,75.4288047050454,76.9449915036053,76.8379014079242,77.5654871897028,77.3252919409508,76.322305463987,76.1262270326144,77.4634120448439,76.7346585661827,75.9352618844331,76.5361685334589,73.0195621185856,59.2478897583382,66.4694059027224,61.0222817956973,52.4112039240425,54.9327498040668,48.4972827355133,45.8606183603116,61.0633264030054,57.439459300924,54.8764931643272,43.3260494996678,59.8410719072589,67.8807605705214,47.9002090748891,53.4942946104117,53.1599158092724,35.9817033234033,40.3273808724468,26.4676317428742],"key":{},"name":"Instit","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar","inherit":true},"2f9c4e91df8.2":{"x":{},"y":[67.5172960266447,43.3180090870767,56.9330511905311,41.9213016953224,56.1209648421575,62.5295309195509,33.8027476221702,51.0434434115547,54.0520462472046,40.3735639940458,29.3640504357104,38.4972042902111,53.5164588588405,37.4390790457196,42.4032508194291,39.6499443925926,39.0577316848104,39.590506544924,59.8044601157263,31.6938662288334,28.4369957578424,32.2228932155215,39.0719082919846,28.8450403442102,26.3672481453382,33.705839505972,33.2237370358802,18.9588995407001,32.0486728437789,27.0993990909947,20.1535991352755,11.9771914102265,29.3008149127592,35.4024905587388,42.7992729215032,39.4681278260073,3.63184438861417,9.56556087792808,8.49359133727843,21.3352938150711,10.1997263193361,10.7127384258683,11.8032676763474,6.07436338792019,2.99914949188243,3.37745763818238,10.0549059649927,12.5165490326047,6.16912739083871,6.52131317443159,5.84761297341394],"key":{},"name":"P2P","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar","inherit":true},"2f9c4e91df8.3":{"x":{},"y":[56.2828192718,71.9716590195151,63.4091679046604,64.8670679948801,77.4746887246093,53.4877124478987,58.1840047849244,50.5229302934587,41.1484184056575,46.5319117448033,52.3671073973566,51.5138539577082,42.4641006704911,51.7528431858943,58.0095759810996,33.5778883133997,44.4985573741346,41.4841168898887,29.4797908045218,43.7837898793815,42.439634843128,39.4552542099083,47.589207612194,40.9543958589775,38.2608382829684,42.9094140807565,41.7160613443792,38.8408519994673,32.6519035562327,28.4349968456681,31.5743186455371,49.0673895191654,40.2059949933033,44.8985724681584,33.6418914211315,34.7684001613939,43.7976528051135,28.9516674053762,18.7950779485286,21.5968942928691,19.6660792200723,22.932993944275,20.1808702121403,18.7775493754312,16.1734212412659,33.6684465062161,16.8039825406815,13.2838314939559,20.7114833423195,24.5307858090396,22.8779913418156],"key":{},"name":"Physical","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar","inherit":true},"2f9c4e91df8.4":{"x":{},"y":[51.1696682240419,80.8406268469514,74.7827888773473,84.5529948778878,32.3036240746606,42.2874459631288,80.0320768134391,78.1347463191737,78.226037581271,67.6345657098334,94.789177346152,80.982925459485,55.4083014449085,77.0827121072291,55.4159615428822,71.5609393988332,77.8929898284468,71.0075526089353,48.6596958235916,87.9133374613107,87.6043976105487,64.7520689053054,62.6359395324334,74.4864297495876,79.0039807962573,55.970500839514,54.1802514752127,90.3687310015569,74.668133911998,67.5131760240007,70.345079151066,72.1389116075212,45.4631264934874,18.7394470855164,45.9073339075299,52.5273462621186,75.8634797957344,46.3697813524089,39.5938701391548,33.7930256541669,23.7194534503911,54.7910266955169,18.4040882952393,51.9020145275952,48.5516959096327,54.5079406437703,36.4887475660582,14.4398240803398,41.2301132187685,11.7858749437697,32.3998649975254],"key":{},"name":"Political","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar","inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":{"text":"Connectivity","y":0.95},"yaxis":{"domain":[0,1],"automargin":true,"title":"","showticklabels":false},"xaxis":{"domain":[0,1],"automargin":true,"title":"","categoryorder":"array","categoryarray":[66.5553995441179,63.9901642314296,62.7879617199478,61.9398723576584,61.9069528310472,59.5781922559545,57.4355053198748,57.0974895685389,55.4300181160593,55.2349061335593,54.3493607627902,53.8747393274374,53.5015247692406,52.8104446454481,52.5277428069315,52.3059845443379,52.1354995771061,52.0514584190484,51.7799237445284,51.4899980284817,50.9086036314699,50.404368988425,50.1418764487134,49.0904971083045,48.2518738858441,48.1105857417282,47.9876649965869,47.7436568351534,45.3147665624098,44.7182237806758,43.8760223317633,43.8271422790998,42.3169256763717,40.0493306129998,39.2362179822402,38.3648083260859,36.96893253234,31.9957620743444,31.400538911504,31.2666588893081,30.8426300843838,29.985845667267,28.9934605452054,28.5951573015857,28.3919020786568,28.2395983229804,27.1281223982067,24.4286453897222,22.2850304867537,21.6133312179266,20.1721562293937],"type":"category"},"barmode":"stack","hovermode":"closest","showlegend":true},"source":"barclick","config":{"showSendToCloud":false},"data":[{"x":["LUX","BEL","CHE","NLD","SGP","MLT","NOR","DNK","AUT","IRL","DEU","SWE","EST","GBR","SVN","HUN","FIN","CZE","CYP","ESP","FRA","SVK","HRV","PRT","POL","LTU","LVA","ITA","GRC","BGR","ROU","KOR","MYS","BRN","NZL","AUS","JPN","THA","VNM","KAZ","MNG","RUS","KHM","IND","IDN","CHN","PHL","LAO","PAK","MMR","BGD"],"y":[80.2322194974662,48.223093777165,32.8718440812436,46.6206142328185,72.9914365378569,62.7115573606026,25.7030474904054,30.4335832009308,26.1866236892613,48.2896977235475,18.7643505209494,23.8716986744027,38.8505159966141,21.1665771305369,30.4639073764602,39.6630539601878,24.1439217481003,33.7876449890375,46.3744554204291,16.9853924763182,20.6331852407846,38.6466371077844,24.5744253990309,23.6011323990444,20.302010263706,31.6448688184114,34.6920480948477,13.0863895891988,10.4704639338568,24.6082850582823,20.770946193479,12.9326567400002,37.3668022239704,34.7367370498629,12.8103098653391,12.6489634568671,6.61893586817108,26.5945180004958,44.2595367722468,18.5447542814279,43.1884321311953,6.6159761063474,51.2530270426321,6.38078730972321,6.35448317998151,1.74393775184397,18.7986813088895,28.743106532438,7.33272515843842,24.9013012899454,13.2676800913392],"key":["LUX","BEL","CHE","NLD","SGP","MLT","NOR","DNK","AUT","IRL","DEU","SWE","EST","GBR","SVN","HUN","FIN","CZE","CYP","ESP","FRA","SVK","HRV","PRT","POL","LTU","LVA","ITA","GRC","BGR","ROU","KOR","MYS","BRN","NZL","AUS","JPN","THA","VNM","KAZ","MNG","RUS","KHM","IND","IDN","CHN","PHL","LAO","PAK","MMR","BGD"],"name":"ConEcFin","type":"bar","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","_isNestedKey":false,"frame":null},{"x":["LUX","BEL","CHE","NLD","SGP","MLT","NOR","DNK","AUT","IRL","DEU","SWE","EST","GBR","SVN","HUN","FIN","CZE","CYP","ESP","FRA","SVK","HRV","PRT","POL","LTU","LVA","ITA","GRC","BGR","ROU","KOR","MYS","BRN","NZL","AUS","JPN","THA","VNM","KAZ","MNG","RUS","KHM","IND","IDN","CHN","PHL","LAO","PAK","MMR","BGD"],"y":[77.5749947006365,75.5974324264399,85.9429565459564,71.737382987383,70.6440499759516,76.8747145885916,89.4556498884348,75.3527446175763,77.5369646569019,73.3447914955666,76.4621181137825,74.5080142553801,77.268246875349,76.6110117578609,76.3460183147861,77.0780966566762,75.0842972500383,74.3874710624568,74.5812165583734,77.0736040965647,75.4288047050454,76.9449915036053,76.8379014079242,77.5654871897028,77.3252919409508,76.322305463987,76.1262270326144,77.4634120448439,76.7346585661827,75.9352618844331,76.5361685334589,73.0195621185856,59.2478897583382,66.4694059027224,61.0222817956973,52.4112039240425,54.9327498040668,48.4972827355133,45.8606183603116,61.0633264030054,57.439459300924,54.8764931643272,43.3260494996678,59.8410719072589,67.8807605705214,47.9002090748891,53.4942946104117,53.1599158092724,35.9817033234033,40.3273808724468,26.4676317428742],"key":["LUX","BEL","CHE","NLD","SGP","MLT","NOR","DNK","AUT","IRL","DEU","SWE","EST","GBR","SVN","HUN","FIN","CZE","CYP","ESP","FRA","SVK","HRV","PRT","POL","LTU","LVA","ITA","GRC","BGR","ROU","KOR","MYS","BRN","NZL","AUS","JPN","THA","VNM","KAZ","MNG","RUS","KHM","IND","IDN","CHN","PHL","LAO","PAK","MMR","BGD"],"name":"Instit","type":"bar","marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","_isNestedKey":false,"frame":null},{"x":["LUX","BEL","CHE","NLD","SGP","MLT","NOR","DNK","AUT","IRL","DEU","SWE","EST","GBR","SVN","HUN","FIN","CZE","CYP","ESP","FRA","SVK","HRV","PRT","POL","LTU","LVA","ITA","GRC","BGR","ROU","KOR","MYS","BRN","NZL","AUS","JPN","THA","VNM","KAZ","MNG","RUS","KHM","IND","IDN","CHN","PHL","LAO","PAK","MMR","BGD"],"y":[67.5172960266447,43.3180090870767,56.9330511905311,41.9213016953224,56.1209648421575,62.5295309195509,33.8027476221702,51.0434434115547,54.0520462472046,40.3735639940458,29.3640504357104,38.4972042902111,53.5164588588405,37.4390790457196,42.4032508194291,39.6499443925926,39.0577316848104,39.590506544924,59.8044601157263,31.6938662288334,28.4369957578424,32.2228932155215,39.0719082919846,28.8450403442102,26.3672481453382,33.705839505972,33.2237370358802,18.9588995407001,32.0486728437789,27.0993990909947,20.1535991352755,11.9771914102265,29.3008149127592,35.4024905587388,42.7992729215032,39.4681278260073,3.63184438861417,9.56556087792808,8.49359133727843,21.3352938150711,10.1997263193361,10.7127384258683,11.8032676763474,6.07436338792019,2.99914949188243,3.37745763818238,10.0549059649927,12.5165490326047,6.16912739083871,6.52131317443159,5.84761297341394],"key":["LUX","BEL","CHE","NLD","SGP","MLT","NOR","DNK","AUT","IRL","DEU","SWE","EST","GBR","SVN","HUN","FIN","CZE","CYP","ESP","FRA","SVK","HRV","PRT","POL","LTU","LVA","ITA","GRC","BGR","ROU","KOR","MYS","BRN","NZL","AUS","JPN","THA","VNM","KAZ","MNG","RUS","KHM","IND","IDN","CHN","PHL","LAO","PAK","MMR","BGD"],"name":"P2P","type":"bar","marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","_isNestedKey":false,"frame":null},{"x":["LUX","BEL","CHE","NLD","SGP","MLT","NOR","DNK","AUT","IRL","DEU","SWE","EST","GBR","SVN","HUN","FIN","CZE","CYP","ESP","FRA","SVK","HRV","PRT","POL","LTU","LVA","ITA","GRC","BGR","ROU","KOR","MYS","BRN","NZL","AUS","JPN","THA","VNM","KAZ","MNG","RUS","KHM","IND","IDN","CHN","PHL","LAO","PAK","MMR","BGD"],"y":[56.2828192718,71.9716590195151,63.4091679046604,64.8670679948801,77.4746887246093,53.4877124478987,58.1840047849244,50.5229302934587,41.1484184056575,46.5319117448033,52.3671073973566,51.5138539577082,42.4641006704911,51.7528431858943,58.0095759810996,33.5778883133997,44.4985573741346,41.4841168898887,29.4797908045218,43.7837898793815,42.439634843128,39.4552542099083,47.589207612194,40.9543958589775,38.2608382829684,42.9094140807565,41.7160613443792,38.8408519994673,32.6519035562327,28.4349968456681,31.5743186455371,49.0673895191654,40.2059949933033,44.8985724681584,33.6418914211315,34.7684001613939,43.7976528051135,28.9516674053762,18.7950779485286,21.5968942928691,19.6660792200723,22.932993944275,20.1808702121403,18.7775493754312,16.1734212412659,33.6684465062161,16.8039825406815,13.2838314939559,20.7114833423195,24.5307858090396,22.8779913418156],"key":["LUX","BEL","CHE","NLD","SGP","MLT","NOR","DNK","AUT","IRL","DEU","SWE","EST","GBR","SVN","HUN","FIN","CZE","CYP","ESP","FRA","SVK","HRV","PRT","POL","LTU","LVA","ITA","GRC","BGR","ROU","KOR","MYS","BRN","NZL","AUS","JPN","THA","VNM","KAZ","MNG","RUS","KHM","IND","IDN","CHN","PHL","LAO","PAK","MMR","BGD"],"name":"Physical","type":"bar","marker":{"color":"rgba(214,39,40,1)","line":{"color":"rgba(214,39,40,1)"}},"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"xaxis":"x","yaxis":"y","_isNestedKey":false,"frame":null},{"x":["LUX","BEL","CHE","NLD","SGP","MLT","NOR","DNK","AUT","IRL","DEU","SWE","EST","GBR","SVN","HUN","FIN","CZE","CYP","ESP","FRA","SVK","HRV","PRT","POL","LTU","LVA","ITA","GRC","BGR","ROU","KOR","MYS","BRN","NZL","AUS","JPN","THA","VNM","KAZ","MNG","RUS","KHM","IND","IDN","CHN","PHL","LAO","PAK","MMR","BGD"],"y":[51.1696682240419,80.8406268469514,74.7827888773473,84.5529948778878,32.3036240746606,42.2874459631288,80.0320768134391,78.1347463191737,78.226037581271,67.6345657098334,94.789177346152,80.982925459485,55.4083014449085,77.0827121072291,55.4159615428822,71.5609393988332,77.8929898284468,71.0075526089353,48.6596958235916,87.9133374613107,87.6043976105487,64.7520689053054,62.6359395324334,74.4864297495876,79.0039807962573,55.970500839514,54.1802514752127,90.3687310015569,74.668133911998,67.5131760240007,70.345079151066,72.1389116075212,45.4631264934874,18.7394470855164,45.9073339075299,52.5273462621186,75.8634797957344,46.3697813524089,39.5938701391548,33.7930256541669,23.7194534503911,54.7910266955169,18.4040882952393,51.9020145275952,48.5516959096327,54.5079406437703,36.4887475660582,14.4398240803398,41.2301132187685,11.7858749437697,32.3998649975254],"key":["LUX","BEL","CHE","NLD","SGP","MLT","NOR","DNK","AUT","IRL","DEU","SWE","EST","GBR","SVN","HUN","FIN","CZE","CYP","ESP","FRA","SVK","HRV","PRT","POL","LTU","LVA","ITA","GRC","BGR","ROU","KOR","MYS","BRN","NZL","AUS","JPN","THA","VNM","KAZ","MNG","RUS","KHM","IND","IDN","CHN","PHL","LAO","PAK","MMR","BGD"],"name":"Political","type":"bar","marker":{"color":"rgba(148,103,189,1)","line":{"color":"rgba(148,103,189,1)"}},"error_y":{"color":"rgba(148,103,189,1)"},"error_x":{"color":"rgba(148,103,189,1)"},"xaxis":"x","yaxis":"y","_isNestedKey":false,"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>Maps:</p>
<pre class="r"><code>iplotMap(ASEM, dset = &quot;Aggregated&quot;, isel = &quot;Conn&quot;)</code></pre>
<div id="htmlwidget-6" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-6">{"x":{"visdat":{"2f9c3ce64b2d":["function () ","plotlyVisDat"]},"cur_data":"2f9c3ce64b2d","attrs":{"2f9c3ce64b2d":{"z":{},"locations":["AUT","BEL","BGR","HRV","CYP","CZE","DNK","EST","FIN","FRA","DEU","GRC","HUN","IRL","ITA","LVA","LTU","LUX","MLT","NLD","NOR","POL","PRT","ROU","SVK","SVN","ESP","SWE","CHE","GBR","AUS","BGD","BRN","KHM","CHN","IND","IDN","JPN","KAZ","KOR","LAO","MYS","MNG","MMR","NZL","PAK","PHL","RUS","SGP","THA","VNM"],"text":{},"colorscale":"Greens","key":["AUT","BEL","BGR","HRV","CYP","CZE","DNK","EST","FIN","FRA","DEU","GRC","HUN","IRL","ITA","LVA","LTU","LUX","MLT","NLD","NOR","POL","PRT","ROU","SVK","SVN","ESP","SWE","CHE","GBR","AUS","BGD","BRN","KHM","CHN","IND","IDN","JPN","KAZ","KOR","LAO","MYS","MNG","MMR","NZL","PAK","PHL","RUS","SGP","THA","VNM"],"showscale":true,"reversescale":true,"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"choropleth"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"scene":{"zaxis":{"title":"get(isel)"}},"hovermode":"closest","showlegend":false,"legend":{"yanchor":"top","y":0.5},"title":"Connectivity","geo":{"showframe":false,"showcoastlines":true,"projection":{"type":"Mercator"},"showcountries":false,"bgcolor":"rgba(255,255,255,0)","showframe.1":false,"showland":true,"landcolor":"rgba(229,229,229,1)","countrycolor":"rgba(255,255,255,1)","coastlinecolor":"rgba(255,255,255,1)"}},"source":"mapclick","config":{"showSendToCloud":false},"data":[{"colorbar":{"title":"Conn","ticklen":2,"len":0.5,"lenmode":"fraction","y":1,"yanchor":"top"},"colorscale":"Greens","showscale":true,"z":[55.4300181160593,63.9901642314296,44.7182237806758,50.1418764487134,51.7799237445284,52.0514584190484,57.0974895685389,53.5015247692406,52.1354995771061,50.9086036314699,54.3493607627902,45.3147665624098,52.3059845443379,55.2349061335593,47.7436568351534,47.9876649965869,48.1105857417282,66.5553995441179,59.5781922559545,61.9398723576584,57.4355053198748,48.2518738858441,49.0904971083045,43.8760223317633,50.404368988425,52.5277428069315,51.4899980284817,53.8747393274374,62.7879617199478,52.8104446454481,38.3648083260859,20.1721562293937,40.0493306129998,28.9934605452054,28.2395983229804,28.5951573015857,28.3919020786568,36.96893253234,31.2666588893081,43.8271422790998,24.4286453897222,42.3169256763717,30.8426300843838,21.6133312179266,39.2362179822402,22.2850304867537,27.1281223982067,29.985845667267,61.9069528310472,31.9957620743444,31.400538911504],"locations":["AUT","BEL","BGR","HRV","CYP","CZE","DNK","EST","FIN","FRA","DEU","GRC","HUN","IRL","ITA","LVA","LTU","LUX","MLT","NLD","NOR","POL","PRT","ROU","SVK","SVN","ESP","SWE","CHE","GBR","AUS","BGD","BRN","KHM","CHN","IND","IDN","JPN","KAZ","KOR","LAO","MYS","MNG","MMR","NZL","PAK","PHL","RUS","SGP","THA","VNM"],"text":["Austria","Belgium","Bulgaria","Croatia","Cyprus","Czech Republic","Denmark","Estonia","Finland","France","Germany","Greece","Hungary","Ireland","Italy","Latvia","Lithuania","Luxembourg","Malta","Netherlands","Norway","Poland","Portugal","Romania","Slovakia","Slovenia","Spain","Sweden","Switzerland","United Kingdom","Australia","Bangladesh","Brunei Darussalam","Cambodia","China","India","Indonesia","Japan","Kazakhstan","Korea","Lao PDR","Malaysia","Mongolia","Myanmar","New Zealand","Pakistan","Philippines","Russian Federation","Singapore","Thailand","Vietnam"],"key":["AUT","BEL","BGR","HRV","CYP","CZE","DNK","EST","FIN","FRA","DEU","GRC","HUN","IRL","ITA","LVA","LTU","LUX","MLT","NLD","NOR","POL","PRT","ROU","SVK","SVN","ESP","SWE","CHE","GBR","AUS","BGD","BRN","KHM","CHN","IND","IDN","JPN","KAZ","KOR","LAO","MYS","MNG","MMR","NZL","PAK","PHL","RUS","SGP","THA","VNM"],"reversescale":true,"type":"choropleth","marker":{"line":{"color":"rgba(31,119,180,1)"}},"_isNestedKey":false,"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>…And many more!</p>
<p><br/><font size="4"> <strong>Multivariate analysis</strong> </font></p>
<p>Analysing a composite indicator is streamlined in COINr by dedicated functions and plots which perform correlation analysis and PCA.</p>
<p>Any aggregation level (and subset thereof) can be correlated and visualised against any other:</p>
<pre class="r"><code>plotCorr(ASEM, dset = &quot;Aggregated&quot;, aglevs = c(1,2), showvals = T)</code></pre>
<p><img src="/english/blog/2021-06-22-TenThingsYouCanDoInCOINr_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>By default in-group correlations are highlighted, but the full correlation matrix can be displayed.</p>
<p>Multi-level correlation tables help to show weak or negatively correlated indicators with each parent level:</p>
<pre class="r"><code>plotCorr(ASEM, dset = &quot;Aggregated&quot;, aglevs = c(1,2), showvals = T, withparent = &quot;family&quot;,
         flagcolours = TRUE)</code></pre>
<p><img src="/english/blog/2021-06-22-TenThingsYouCanDoInCOINr_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<p>Interactive correlation maps are good for html documents:</p>
<pre class="r"><code>iplotCorr(ASEM, aglevs = c(1,2), showvals = F, flagcolours = F)</code></pre>
<div id="htmlwidget-7" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-7">{"x":{"visdat":{"2f9c59513fca":["function () ","plotlyVisDat"]},"cur_data":"2f9c59513fca","attrs":{"2f9c59513fca":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"z":[[0.67,null,0.37,0.32,null,null,null,0.38],[0.84,0.41,0.74,0.53,null,null,0.45,null],[0.56,-0.35,null,null,-0.61,null,null,null],[0.52,null,null,null,-0.42,null,null,null],[0.59,0.47,0.67,0.73,0.32,null,0.69,null],[0.32,0.86,0.57,0.6,0.62,null,0.63,null],[null,0.69,0.64,0.52,0.38,null,0.61,null],[null,-0.62,-0.45,-0.49,-0.74,null,-0.59,null],[null,0.66,0.3,null,0.62,null,0.46,null],[null,0.76,0.53,0.59,0.68,null,0.63,null],[0.31,0.74,0.64,0.63,0.5,null,0.6,null],[0.37,0.38,0.73,0.33,null,-0.36,0.52,-0.31],[0.32,0.59,0.75,0.51,0.38,null,0.67,null],[0.37,0.51,0.66,0.65,0.46,null,0.72,null],[0.48,0.46,0.64,0.4,null,null,0.39,null],[0.55,0.4,0.57,0.52,null,null,null,null],[0.46,0.52,0.74,0.44,null,null,0.4,null],[0.57,0.35,0.69,0.43,null,-0.37,0.37,null],[0.37,0.59,0.81,0.63,0.41,null,0.78,null],[null,0.53,0.51,0.77,0.73,null,0.72,null],[0.66,0.48,0.78,0.65,null,null,0.51,-0.32],[null,null,null,null,0.31,null,null,null],[0.54,0.39,0.54,0.67,null,null,0.43,null],[0.33,0.52,0.58,0.45,null,null,0.5,null],[null,null,null,0.35,null,null,null,null],[null,0.32,null,0.56,0.35,null,0.54,0.32],[null,0.66,0.64,0.75,0.6,-0.32,0.76,null],[-0.54,null,null,null,0.68,null,null,null],[null,0.6,null,0.47,0.95,null,0.6,null],[null,0.8,0.63,0.59,0.71,null,0.78,null],[null,null,null,-0.32,null,0.58,null,null],[null,0.29,0.35,0.36,null,0.64,null,-0.29],[null,null,-0.4,-0.41,null,0.78,-0.33,null],[-0.33,null,-0.48,null,null,0.81,-0.38,null],[null,null,null,null,null,null,null,null],[null,0.63,0.47,0.44,0.62,null,0.68,null],[null,0.39,0.36,0.37,0.38,null,0.61,null],[0.4,0.46,0.59,0.58,0.29,null,0.72,null],[null,0.71,0.61,0.58,0.68,null,0.85,null],[0.36,0.53,0.53,0.59,0.39,null,0.72,null],[0.49,0.55,0.78,0.77,0.42,null,0.8,null],[null,0.63,0.72,0.8,0.58,null,0.87,null],[null,0.42,0.38,0.31,null,-0.3,0.6,null],[null,0.38,0.35,0.42,0.49,null,0.69,null],[null,null,null,null,-0.41,null,null,0.53],[-0.44,-0.43,-0.64,-0.59,-0.37,null,-0.66,0.46],[null,-0.34,-0.43,-0.39,-0.33,null,-0.48,0.56],[null,0.34,0.31,0.64,0.56,null,0.58,null],[0.37,0.48,0.54,0.64,0.45,-0.31,0.66,null]],"x":["ConEcFin","Instit","P2P","Physical","Political","Environ","Social","SusEcFin"],"y":["Goods","Services","FDI","PRemit","ForPort","CostImpEx","Tariff","TBTs","TIRcon","RTAs","Visa","StMob","Research","Pat","CultServ","CultGood","Tourist","MigStock","Lang","LPI","Flights","Ship","Bord","Elec","Gas","ConSpeed","Cov4G","Embs","IGOs","UNVote","Renew","PrimEner","CO2","MatCon","Forest","Poverty","Palma","TertGrad","FreePress","TolMin","NGOs","CPI","FemLab","WomParl","PubDebt","PrivDebt","GDPGrow","RDExp","NEET"],"type":"heatmap","zmin":-1,"zmid":0,"zmax":1,"colors":"RdBu","hovertemplate":"corr(%{x}, %{y}) = %{z}<extra><\/extra>","xgap":2,"ygap":2,"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"shapes":[{"type":"rect","layer":"above","line":{"color":"purple","width":2},"opacity":0.5,"x0":-0.5,"x1":0.5,"xref":"x","y0":-0.5,"y1":4.5,"yref":"y"},{"type":"rect","layer":"above","line":{"color":"purple","width":2},"opacity":0.5,"x0":0.5,"x1":1.5,"xref":"x","y0":4.5,"y1":10.5,"yref":"y"},{"type":"rect","layer":"above","line":{"color":"purple","width":2},"opacity":0.5,"x0":1.5,"x1":2.5,"xref":"x","y0":10.5,"y1":18.5,"yref":"y"},{"type":"rect","layer":"above","line":{"color":"purple","width":2},"opacity":0.5,"x0":2.5,"x1":3.5,"xref":"x","y0":18.5,"y1":26.5,"yref":"y"},{"type":"rect","layer":"above","line":{"color":"purple","width":2},"opacity":0.5,"x0":3.5,"x1":4.5,"xref":"x","y0":26.5,"y1":29.5,"yref":"y"},{"type":"rect","layer":"above","line":{"color":"purple","width":2},"opacity":0.5,"x0":4.5,"x1":5.5,"xref":"x","y0":29.5,"y1":34.5,"yref":"y"},{"type":"rect","layer":"above","line":{"color":"purple","width":2},"opacity":0.5,"x0":5.5,"x1":6.5,"xref":"x","y0":34.5,"y1":43.5,"yref":"y"},{"type":"rect","layer":"above","line":{"color":"purple","width":2},"opacity":0.5,"x0":6.5,"x1":7.5,"xref":"x","y0":43.5,"y1":48.5,"yref":"y"}],"xaxis":{"domain":[0,1],"automargin":true,"title":[]},"yaxis":{"domain":[0,1],"automargin":true,"title":[]},"scene":{"zaxis":{"title":[]}},"hovermode":"closest","showlegend":false,"legend":{"yanchor":"top","y":0.5}},"source":"A","config":{"showSendToCloud":false},"data":[{"colorbar":{"title":"","ticklen":2,"len":0.5,"lenmode":"fraction","y":1,"yanchor":"top"},"colorscale":[["0","rgba(103,0,31,1)"],["0.0416666666666667","rgba(133,8,36,1)"],["0.0833333333333334","rgba(165,20,41,1)"],["0.125","rgba(187,47,51,1)"],["0.166666666666667","rgba(202,76,65,1)"],["0.208333333333333","rgba(217,102,81,1)"],["0.25","rgba(230,131,103,1)"],["0.291666666666667","rgba(242,159,125,1)"],["0.333333333333333","rgba(248,183,153,1)"],["0.375","rgba(252,205,181,1)"],["0.416666666666667","rgba(252,224,207,1)"],["0.458333333333333","rgba(250,235,227,1)"],["0.5","rgba(247,247,247,1)"],["0.541666666666667","rgba(231,239,244,1)"],["0.583333333333333","rgba(215,232,241,1)"],["0.625","rgba(194,221,236,1)"],["0.666666666666667","rgba(168,208,228,1)"],["0.708333333333333","rgba(140,193,220,1)"],["0.75","rgba(110,172,209,1)"],["0.791666666666667","rgba(75,151,197,1)"],["0.833333333333333","rgba(57,132,187,1)"],["0.875","rgba(43,113,178,1)"],["0.916666666666667","rgba(28,93,159,1)"],["0.958333333333333","rgba(17,70,127,1)"],["1","rgba(5,48,97,1)"]],"showscale":true,"z":[[0.67,null,0.37,0.32,null,null,null,0.38],[0.84,0.41,0.74,0.53,null,null,0.45,null],[0.56,-0.35,null,null,-0.61,null,null,null],[0.52,null,null,null,-0.42,null,null,null],[0.59,0.47,0.67,0.73,0.32,null,0.69,null],[0.32,0.86,0.57,0.6,0.62,null,0.63,null],[null,0.69,0.64,0.52,0.38,null,0.61,null],[null,-0.62,-0.45,-0.49,-0.74,null,-0.59,null],[null,0.66,0.3,null,0.62,null,0.46,null],[null,0.76,0.53,0.59,0.68,null,0.63,null],[0.31,0.74,0.64,0.63,0.5,null,0.6,null],[0.37,0.38,0.73,0.33,null,-0.36,0.52,-0.31],[0.32,0.59,0.75,0.51,0.38,null,0.67,null],[0.37,0.51,0.66,0.65,0.46,null,0.72,null],[0.48,0.46,0.64,0.4,null,null,0.39,null],[0.55,0.4,0.57,0.52,null,null,null,null],[0.46,0.52,0.74,0.44,null,null,0.4,null],[0.57,0.35,0.69,0.43,null,-0.37,0.37,null],[0.37,0.59,0.81,0.63,0.41,null,0.78,null],[null,0.53,0.51,0.77,0.73,null,0.72,null],[0.66,0.48,0.78,0.65,null,null,0.51,-0.32],[null,null,null,null,0.31,null,null,null],[0.54,0.39,0.54,0.67,null,null,0.43,null],[0.33,0.52,0.58,0.45,null,null,0.5,null],[null,null,null,0.35,null,null,null,null],[null,0.32,null,0.56,0.35,null,0.54,0.32],[null,0.66,0.64,0.75,0.6,-0.32,0.76,null],[-0.54,null,null,null,0.68,null,null,null],[null,0.6,null,0.47,0.95,null,0.6,null],[null,0.8,0.63,0.59,0.71,null,0.78,null],[null,null,null,-0.32,null,0.58,null,null],[null,0.29,0.35,0.36,null,0.64,null,-0.29],[null,null,-0.4,-0.41,null,0.78,-0.33,null],[-0.33,null,-0.48,null,null,0.81,-0.38,null],[null,null,null,null,null,null,null,null],[null,0.63,0.47,0.44,0.62,null,0.68,null],[null,0.39,0.36,0.37,0.38,null,0.61,null],[0.4,0.46,0.59,0.58,0.29,null,0.72,null],[null,0.71,0.61,0.58,0.68,null,0.85,null],[0.36,0.53,0.53,0.59,0.39,null,0.72,null],[0.49,0.55,0.78,0.77,0.42,null,0.8,null],[null,0.63,0.72,0.8,0.58,null,0.87,null],[null,0.42,0.38,0.31,null,-0.3,0.6,null],[null,0.38,0.35,0.42,0.49,null,0.69,null],[null,null,null,null,-0.41,null,null,0.53],[-0.44,-0.43,-0.64,-0.59,-0.37,null,-0.66,0.46],[null,-0.34,-0.43,-0.39,-0.33,null,-0.48,0.56],[null,0.34,0.31,0.64,0.56,null,0.58,null],[0.37,0.48,0.54,0.64,0.45,-0.31,0.66,null]],"x":["ConEcFin","Instit","P2P","Physical","Political","Environ","Social","SusEcFin"],"y":["Goods","Services","FDI","PRemit","ForPort","CostImpEx","Tariff","TBTs","TIRcon","RTAs","Visa","StMob","Research","Pat","CultServ","CultGood","Tourist","MigStock","Lang","LPI","Flights","Ship","Bord","Elec","Gas","ConSpeed","Cov4G","Embs","IGOs","UNVote","Renew","PrimEner","CO2","MatCon","Forest","Poverty","Palma","TertGrad","FreePress","TolMin","NGOs","CPI","FemLab","WomParl","PubDebt","PrivDebt","GDPGrow","RDExp","NEET"],"type":"heatmap","zmin":-1,"zmid":0,"zmax":1,"hovertemplate":"corr(%{x}, %{y}) = %{z}<extra><\/extra>","xgap":2,"ygap":2,"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>COINr has bindings to base PCA functions, and can give plots for any aggregation group:</p>
<pre class="r"><code>library(ggbiplot)
PCAres &lt;- getPCA(ASEM, dset = &quot;Aggregated&quot;, aglev = 2, out2 = &quot;list&quot;)
ggbiplot(PCAres$PCAresults$Conn$PCAres,
         labels = ASEM$Data$Aggregated$UnitCode,
         groups = ASEM$Data$Aggregated$Group_EurAsia)</code></pre>
<p><img src="/english/blog/2021-06-22-TenThingsYouCanDoInCOINr_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<p><br/><font size="4"> <strong>Treat data and visualise</strong> </font></p>
<p>COINr comes with a flexible set of data treatment options, including:</p>
<ul>
<li>Winsorisation of high and/or low values up to thresholds</li>
<li>Log transformations</li>
<li>Scaled log transformations</li>
<li>Box-Cox transformations</li>
</ul>
<p>Treatment can be applied to all indicators or specified individually for each. Treated and untreated data can compared using an inbuilt app.</p>
<pre class="r"><code>ASEM &lt;- treat(ASEM, dset = &quot;Denominated&quot;)

indDash(ASEM)</code></pre>
<div class="figure">
<img src="/english/blog/2021-06-22-TenThingsYouCanDoInCOINr_files/inddash_screenshot.png" alt="" />
<p class="caption">indDash screenshot</p>
</div>
<p><br/><font size="4"> <strong>Full global sensitivity analysis</strong> </font></p>
<p>COINr calculates rank distributions for each unit, confidence intervals, and a full global sensitivity analysis which gives sensitivity indices for each input assumption. A wide range of assumptions can be varied, from weights to normalisation methods, winsorisation limits, and many more.</p>
<pre class="r"><code># plot bar chart
plotSA(SAresults, ptype = &quot;box&quot;)</code></pre>
<p><img src="/english/blog/2021-06-22-TenThingsYouCanDoInCOINr_files/figure-html/plotSAbox-1.png" width="672" /></p>
<div id="tweak-your-weights" class="section level1">
<h1>Tweak your weights</h1>
<p>Weights can be adjusted via automatic weight optimisation, PCA, or manually. Manual weight adjustments are made easier by a built in reweighting app called <code>rew8r()</code>. This is currently being tweaked and is out of action, but would look like this:</p>
<pre class="r"><code>rew8r(ASEM)</code></pre>
<div class="figure">
<img src="/english/blog/2021-06-22-TenThingsYouCanDoInCOINr_files/rew8r_screenshot.png" alt="" />
<p class="caption">rew8r() screenshot</p>
</div>
<p><img src="/english/blog/2021-06-22-TenThingsYouCanDoInCOINr_files/corr_scat_screenshot_rew8r.png" alt="Correlation scatter plot screenshots in rew8r()" />
<img src="/english/blog/2021-06-22-TenThingsYouCanDoInCOINr_files/corr_scat_sep_screenshot_rew8r.png" alt="Correlation scatter plot screenshots in rew8r()" /></p>
<p><br/><font size="4"> <strong>Fast prototype results dashboard</strong> </font></p>
<p>Results can be quickly visualised in an interactive Shiny app. This is not a substitute for a dedicated web portal, but can be a fast first exploration of the results. The app includes tables, unit comparisons, maps and bar charts. Here’s a separate example of a radar chart comparison:</p>
<pre class="r"><code>iplotRadar(ASEM, dset = &quot;Aggregated&quot;, usel = c(&quot;CHN&quot;, &quot;DEU&quot;), isel = &quot;Conn&quot;, aglev = 2, addstat = &quot;groupmean&quot;,
           statgroup = &quot;Group_GDP&quot;, statgroup_name = &quot;GDP&quot;)</code></pre>
<div id="htmlwidget-8" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-8">{"x":{"visdat":{"2f9c25847f7b":["function () ","plotlyVisDat"]},"cur_data":"2f9c25847f7b","attrs":{"2f9c25847f7b":{"mode":"markers","fill":"toself","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatterpolar"},"2f9c25847f7b.1":{"mode":"markers","fill":"toself","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatterpolar","r":[11.9943029475602,66.1584167734824,18.6778136314589,37.3641734048407,70.6700642473906],"theta":["ConEcFin","Instit","P2P","Physical","Political"],"name":"<b>GDP group mean (XL)<b>","inherit":true},"2f9c25847f7b.2":{"mode":"markers","fill":"toself","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatterpolar","r":[18.7643505209494,76.4621181137825,29.3640504357104,52.3671073973566,94.789177346152],"theta":["ConEcFin","Instit","P2P","Physical","Political"],"name":"Germany","inherit":true},"2f9c25847f7b.3":{"mode":"markers","fill":"toself","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatterpolar","r":[1.74393775184397,47.9002090748891,3.37745763818238,33.6684465062161,54.5079406437703],"theta":["ConEcFin","Instit","P2P","Physical","Political"],"name":"China","inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":{"text":"Conn","y":0.95,"x":0.03},"hovermode":"closest","showlegend":true},"source":"A","config":{"showSendToCloud":false},"data":[{"fillcolor":"rgba(31,119,180,0.5)","mode":"markers","fill":"toself","type":"scatterpolar","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"line":{"color":"rgba(31,119,180,1)"},"frame":null},{"fillcolor":"rgba(255,127,14,0.5)","mode":"markers","fill":"toself","type":"scatterpolar","r":[11.9943029475602,66.1584167734824,18.6778136314589,37.3641734048407,70.6700642473906],"theta":["ConEcFin","Instit","P2P","Physical","Political"],"name":"<b>GDP group mean (XL)<b>","marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"line":{"color":"rgba(255,127,14,1)"},"frame":null},{"fillcolor":"rgba(44,160,44,0.5)","mode":"markers","fill":"toself","type":"scatterpolar","r":[18.7643505209494,76.4621181137825,29.3640504357104,52.3671073973566,94.789177346152],"theta":["ConEcFin","Instit","P2P","Physical","Political"],"name":"Germany","marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"line":{"color":"rgba(44,160,44,1)"},"frame":null},{"fillcolor":"rgba(214,39,40,0.5)","mode":"markers","fill":"toself","type":"scatterpolar","r":[1.74393775184397,47.9002090748891,3.37745763818238,33.6684465062161,54.5079406437703],"theta":["ConEcFin","Instit","P2P","Physical","Political"],"name":"China","marker":{"color":"rgba(214,39,40,1)","line":{"color":"rgba(214,39,40,1)"}},"line":{"color":"rgba(214,39,40,1)"},"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>And a screenshot of the full app…</p>
<pre class="r"><code>resultsDash(ASEM)</code></pre>
<div class="figure">
<img src="/english/blog/2021-06-22-TenThingsYouCanDoInCOINr_files/resultsDash_screenshot.png" alt="" />
<p class="caption">resultsDash screenshot</p>
</div>
<p><br/><font size="4"> <strong>Automatic and customisable unit reports</strong> </font></p>
<p>COINr has a function which calls an R Markdown template, and generates customisable unit reports for any (or all) units. This can be output in Word, pdf, or html format.</p>
<pre class="r"><code>getUnitReport(ASEM, usel = &quot;ITA&quot;, out_type = &quot;.docx&quot;)</code></pre>
<p><img src="/english/blog/2021-06-22-TenThingsYouCanDoInCOINr_files/getUnitProfile_screenshot1.png" alt="Unit profile screenshot 1/2" />
<img src="/english/blog/2021-06-22-TenThingsYouCanDoInCOINr_files/getUnitProfile_screenshot2.png" alt="Unit profile screenshot 2/2" /></p>
<p><br/><font size="4"> <strong>Compare versions</strong> </font></p>
<p>To adjust and compare versions of COINs, we simply:</p>
<ol style="list-style-type: decimal">
<li>Copy the COIN</li>
<li>Adjust the index methodology or data by editing the <code>.$Method</code> folder and/or the underlying data</li>
<li>Regenerate the results</li>
<li>Compare alternatives</li>
</ol>
<pre class="r"><code># Make a copy
ASEMAltNorm &lt;- ASEM

# Edit .$Method
ASEMAltNorm$Method$normalise$ntype &lt;- &quot;borda&quot;

# Regenerate
ASEMAltNorm &lt;- regen(ASEMAltNorm, quietly = TRUE)</code></pre>
<p>We now make a comparison table:</p>
<pre class="r"><code>compTable(ASEM, ASEMAltNorm, dset = &quot;Aggregated&quot;, isel = &quot;Index&quot;) #%&gt;%</code></pre>
<pre><code>##    UnitCode           UnitName RankCOIN1 RankCOIN2 RankChange AbsRankChange
## 43      PRT           Portugal        27        16         11            11
## 29      LAO            Lao PDR        48        39          9             9
## 33      MLT              Malta        10        19         -9             9
## 14      EST            Estonia        22        15          7             7
## 21      IDN          Indonesia        43        49         -6             6
## 13      ESP              Spain        19        24         -5             5
## 19      HRV            Croatia        18        23         -5             5
## 17      GBR     United Kingdom        15        11          4             4
## 30      LTU          Lithuania        16        12          4             4
## 35      MNG           Mongolia        44        48         -4             4
## 41      PHL        Philippines        38        42         -4             4
## 46      SGP          Singapore        14        18         -4             4
## 32      LVA             Latvia        23        20          3             3
## 40      PAK           Pakistan        50        47          3             3
## 4       BGD         Bangladesh        46        44          2             2
## 8       CHN              China        49        51         -2             2
## 20      HUN            Hungary        20        22         -2             2
## 23      IRL            Ireland        12        14         -2             2
## 25      JPN              Japan        34        32          2             2
## 26      KAZ         Kazakhstan        47        45          2             2
## 28      KOR              Korea        31        33         -2             2
## 31      LUX         Luxembourg         8        10         -2             2
## 37      NLD        Netherlands         2         4         -2             2
## 47      SVK           Slovakia        24        26         -2             2
## 48      SVN           Slovenia        11         9          2             2
## 3       BEL            Belgium         5         6         -1             1
## 5       BGR           Bulgaria        30        29          1             1
## 9       CYP             Cyprus        29        30         -1             1
## 11      DEU            Germany         9         8          1             1
## 12      DNK            Denmark         3         2          1             1
## 18      GRC             Greece        32        31          1             1
## 22      IND              India        45        46         -1             1
## 27      KHM           Cambodia        37        36          1             1
## 36      MYS           Malaysia        39        38          1             1
## 38      NOR             Norway         4         3          1             1
## 39      NZL        New Zealand        33        34         -1             1
## 42      POL             Poland        26        27         -1             1
## 45      RUS Russian Federation        51        50          1             1
## 49      SWE             Sweden         6         5          1             1
## 50      THA           Thailand        42        43         -1             1
## 51      VNM            Vietnam        36        37         -1             1
## 1       AUS          Australia        35        35          0             0
## 2       AUT            Austria         7         7          0             0
## 6       BRN  Brunei Darussalam        40        40          0             0
## 7       CHE        Switzerland         1         1          0             0
## 10      CZE     Czech Republic        17        17          0             0
## 15      FIN            Finland        13        13          0             0
## 16      FRA             France        21        21          0             0
## 24      ITA              Italy        28        28          0             0
## 34      MMR            Myanmar        41        41          0             0
## 44      ROU            Romania        25        25          0             0</code></pre>
<pre class="r"><code>  #head(10) %&gt;%
  #knitr::kable()</code></pre>
<p><br/><font size="4"> <strong>Import and export</strong> </font></p>
<p>While you can get your data in and out of R in any way you want with R’s myriad packages, COINr has a couple of handy interfaces.</p>
<ol style="list-style-type: decimal">
<li>The <code>coin_2excel()</code> function writes all data, analysis and results to a single Excel workbook in one command.</li>
<li>The <code>COINToolIn()</code> function reads a COIN Tool workbook and automatically imports everything into COINr.</li>
</ol>
</div>
